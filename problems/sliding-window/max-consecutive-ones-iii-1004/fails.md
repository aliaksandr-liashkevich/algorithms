Ошибки
- Не нужно учитывать случай r < l

Рекомендации
- Пересмотерь работу алгоритма для пересекающего окна
